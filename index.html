<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Puzzle Sequel</title>
  <style>
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      background:#000;
      color:#fff;
      font-family: Arial, sans-serif;
      text-align:center;
      overflow-x:hidden;
    }

    .section { display:none; padding: 24px 16px; }
    .section.active { display:block; }

    h1,h2 { margin: 8px 0 14px; font-weight: 700; }

    button{
      margin-top: 14px;
      padding: 10px 18px;
      font-size: 16px;
      border: none;
      border-radius: 12px;
      background: #222;
      color: #fff;
      cursor: pointer;
    }
    button:disabled{ opacity: .45; cursor: default; }

    /* ===== Password screens ===== */
    .code-row{
      display:flex;
      justify-content:center;
      gap:10px;
      margin-top: 10px;
    }
    .code-input{
      width: 44px;
      height: 44px;
      font-size: 24px;
      text-align:center;
      border-radius: 10px;
      border: 2px solid #333;
      outline:none;
      background:#111;
      color:#fff;
    }

    /* First password: lowercase, red */
    #pw1 .code-input{
      color:#ff2d2d;
      text-transform: none;   /* keep lowercase */
      border-color:#550000;
    }

    /* Second password: normal styling (not red, not forced lowercase) */
    #pw2 .code-input{
      color:#fff;
      text-transform: uppercase;
      border-color:#333;
    }

    .helper{
      opacity:.8;
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.4;
    }

    /* ===== Puzzle 1 (mouse-move music) ===== */
    #p1{
      position: relative;
      min-height: calc(100vh - 48px);
      padding-top: 24px;
    }
    #p1 .fill{
      position: absolute;
      inset: 0;
      background: #00ff2a;
      transform-origin: left center;
      transform: scaleX(0);
      transition: transform 0.08s linear;
      z-index: 0;
      opacity: .45;
    }
    #p1 .content{
      position: relative;
      z-index: 1;
    }
    #p1 .meter{
      width: min(760px, 92vw);
      height: 14px;
      border-radius: 999px;
      background: #111;
      border: 1px solid #333;
      margin: 16px auto 6px;
      overflow:hidden;
    }
    #p1 .meter > div{
      height: 100%;
      width: 0%;
      background: #00ff2a;
      transition: width .12s linear;
    }
    #p1 .status{
      min-height: 22px;
      opacity:.85;
      margin-top: 6px;
    }

    /* ===== Puzzle 2 + 5 clock shared ===== */
    .clock{
      font-size: 52px;
      letter-spacing: 2px;
      margin: 12px 0 6px;
    }
    .rule-title{
      margin-top: 6px;
      font-size: 22px;
      line-height: 1.1;
    }
    .strike{
      text-decoration: line-through;
      opacity: .7;
      margin-right: 8px;
    }
    .fib{
      color: #ff4df3;
      font-family: "Comic Sans MS", "Comic Sans", cursive;
      font-weight: 700;
      margin-right: 8px;
    }

    /* ===== Monty Hall ===== */
    .doors{
      display:flex;
      justify-content:center;
      gap: 16px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .door{
      width: 150px;
      height: 210px;
      border-radius: 16px;
      border: 2px solid #444;
      background: #111;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 26px;
      cursor:pointer;
      user-select:none;
      position: relative;
    }
    .door.selected{ outline: 3px solid #00c8ff; }
    .door.revealed{ border-color:#777; opacity:.75; cursor: default; }
    .door .tag{
      position:absolute;
      top: 10px;
      left: 10px;
      font-size: 12px;
      opacity:.75;
    }
    .monty-actions{
      margin-top: 14px;
      display:flex;
      gap: 12px;
      justify-content:center;
      flex-wrap: wrap;
    }
    #monty-msg{ min-height: 48px; margin-top: 10px; opacity:.9; }

    /* ===== Crossword ===== */
    .cw-wrap{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 10px;
    }
    .cw-grid{
      border-collapse: collapse;
      table-layout: fixed;
      margin: 10px auto 6px;
      background:#000;
    }
    .cw-grid td{
      width: 44px;
      height: 44px;
      border: 2px solid #444;
      padding: 0;
      position: relative;
      background:#111;
    }
    .cw-inp{
      width:100%;
      height:100%;
      border: none;
      outline:none;
      text-align:center;
      font-size: 22px;
      background:#fff;
      color:#000;
      text-transform: uppercase;
      display:block;
    }
    .cw-num{
      position:absolute;
      top: 2px;
      left: 4px;
      font-size: 10px;
      color:#000;
      pointer-events:none;
      z-index:2;
      background: rgba(255,255,255,.55);
      padding: 0 3px;
      border-radius: 6px;
    }
    .clues{
      text-align:left;
      width: min(760px, 92vw);
      margin: 6px auto 0;
      line-height: 1.35;
      border-top: 1px solid #222;
      padding-top: 10px;
      opacity:.95;
    }
    .clues h3{ margin: 8px 0 6px; }
    .clues p{ margin: 4px 0; }

    /* Final */
    #final img{
      width: min(360px, 70vw);
      height: auto;
      aspect-ratio: 1 / 1;
      object-fit: cover;
      border-radius: 18px;
      border: 2px solid #333;
      margin-top: 10px;
    }
    #final .mc{
      margin-top: 14px;
      font-size: 26px;
    }
  </style>
</head>
<body>

  <!-- ===== Password 1 ===== -->
  <section id="pw1" class="section active">
    <h1>enter password</h1>
    <div class="helper">Type <b>haha</b> (lowercase). When correct, it will lock and play the full sound.</div>
    <div class="code-row" aria-label="Password entry">
      <input class="code-input" maxlength="1" id="pw1_1" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw1_2" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw1_3" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw1_4" autocomplete="off" />
    </div>
  </section>

  <!-- ===== Puzzle 1: mouse-move jingle bells ===== -->
  <section id="p1" class="section">
    <div class="fill" id="p1Fill"></div>
    <div class="content">
      <h1>Puzzle 1</h1>
      <div class="helper">
        Keep your mouse moving to keep the music playing. If you stop, the track resets to the start and the green will drain back.
        The puzzle is complete once you reach <b>10 seconds</b> of playback.
      </div>

      <div class="meter" aria-label="Progress meter"><div id="p1MeterBar"></div></div>
      <div class="status" id="p1Status">Move your mouse to begin…</div>

      <button id="p1Next" disabled>Next</button>
    </div>

    <!-- hidden audio (local file) -->
    <audio id="jingle" preload="auto" src="jinglebells.mp3"></audio>
  </section>

  <!-- ===== Puzzle 2: Fibonacci Time ===== -->
  <section id="p2" class="section">
    <h1>Puzzle 2</h1>
    <div class="rule-title">
      <span class="strike">Prime</span><span class="fib">Fibonacci</span>Time
    </div>
    <div class="clock" id="p2Clock">00:00</div>
    <div class="helper">
      Press the button. If <b>HH</b> and/or <b>MM</b> aren’t Fibonacci numbers (under 60), you’ll be told.
    </div>
    <button id="p2Check">Fibonacci Time?</button>
    <button id="p2Next" style="display:none;">Next</button>
  </section>

  <!-- ===== Puzzle 3: Monty Hall (rigged) ===== -->
  <section id="p3" class="section">
    <h1>Puzzle 3</h1>
    <div class="helper">
      Pick a door. One door has the car. Monty will reveal a goat and offer you a switch.
      (This version is… unhelpful.)
    </div>

    <div class="doors" id="doors"></div>

    <div id="monty-msg"></div>

    <div class="monty-actions">
      <button id="stayBtn" style="display:none;">Stay</button>
      <button id="switchBtn" style="display:none;">Switch</button>
    </div>

    <button id="p3Next" style="display:none;">Next</button>
  </section>

  <!-- ===== Puzzle 4: Crossword ===== -->
  <section id="p4" class="section">
    <h1>Puzzle 4</h1>

    <div class="cw-wrap">
      <table class="cw-grid" id="cwTable" aria-label="Crossword grid"></table>
      <button id="p4Next" style="display:none;">Next</button>
    </div>

    <div class="clues" aria-label="Crossword clues">
      <h3>Across</h3>
      <p><b>1.</b> With 2 and 3, HEART EFIR RWATE</p>
      <p><b>2.</b> See 1</p>
      <p><b>3.</b> See 1</p>
      <p><b>4.</b> ⏏</p>
      <p><b>7.</b> 0, 1, 3, 6, 2, 7, 13, 20, 12, 21, 11, 22, 10, 23, 9, 24... Re_____'s</p>
      <p><b>8.</b> Almost done with the puzzle?</p>
      <p><b>9.</b> What happens if your mouse stops moving?</p>

      <h3>DOWN</h3>
      <p><b>1.</b> What 6 does when 2 is over 3</p>
      <p><b>2.</b> S13 JA425</p>
      <p><b>3.</b> Puzzle... it fair?</p>
      <p><b>5.</b> There's only one of you, you're being obnoxious with that S, you should just be a...</p>
      <p><b>6.</b> Only red and white just now, mintier that way</p>
    </div>
  </section>

  <!-- ===== Puzzle 5: Prime Fibonacci Time ===== -->
  <section id="p5" class="section">
    <h1>Puzzle 5</h1>
    <div class="rule-title">
      <span class="strike">Prime</span><span class="fib">Fibonacci</span>Time
    </div>
    <div class="clock" id="p5Clock">00:00</div>
    <div class="helper">
      Now both numbers must be <b>prime</b> and <b>Fibonacci</b> (under 60). This uses a fixed list.
    </div>
    <button id="p5Check">Prime Fibonacci Time?</button>
    <button id="p5Next" style="display:none;">Next</button>
  </section>

  <!-- ===== Password 2 (Luke) ===== -->
  <section id="pw2" class="section">
    <h1>Final password</h1>
    <div class="helper">
      Luke has the final password, you should tell him how much fun you've had with the puzzle and he might give it to you!
    </div>
    <div class="code-row" aria-label="Final password entry">
      <input class="code-input" maxlength="1" id="pw2_1" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw2_2" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw2_3" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw2_4" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw2_5" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw2_6" autocomplete="off" />
      <input class="code-input" maxlength="1" id="pw2_7" autocomplete="off" />
    </div>
  </section>

  <!-- ===== Final Screen ===== -->
  <section id="final" class="section">
    <h1>Congratulations!</h1>
    <img src="fuecoco.jpg" alt="Fuecoco" />
    <div class="mc">Merry Christmas</div>
  </section>

  <!-- Local sound for correct initial password -->
  <audio id="hahaSound" preload="auto" src="haha.mp3"></audio>

<script>
  /* ========= navigation ========= */
  function show(id){
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');

    // init on entry
    if (id === 'p1') initPuzzle1();
    if (id === 'p2') initFibTime();
    if (id === 'p3') initMonty();
    if (id === 'p4') initCrossword();
    if (id === 'p5') initPrimeFibTime();
  }

  /* ========= Password 1: "haha" lowercase red + LOCK + play full sound, then advance on ended ========= */
  (function initPw1(){
    const inputs = [pw1_1, pw1_2, pw1_3, pw1_4];
    let pw1Done = false;

    inputs.forEach((inp, i) => {
      inp.addEventListener('input', () => {
        if (pw1Done) { inp.value = (inp.value || '').slice(0,1).toLowerCase(); return; }
        inp.value = (inp.value || '').slice(0,1).toLowerCase();
        if (inp.value && i < inputs.length - 1) inputs[i+1].focus();
        check();
      });
      inp.addEventListener('keydown', (e) => {
        if (pw1Done) { e.preventDefault(); return; }
        if (e.key === 'Backspace' && !inp.value && i > 0) inputs[i-1].focus();
      });
    });

    function lockInputs(){
      inputs.forEach(inp => {
        inp.readOnly = true;   // freeze: cannot change text
        inp.blur();
      });
    }

    function check(){
      const code = inputs.map(x => (x.value || '')).join('');
      if (code === 'haha' && !pw1Done){
        pw1Done = true;
        lockInputs();

        const s = document.getElementById('hahaSound');
        // advance ONLY when sound ends
        s.onended = () => {
          s.onended = null;
          show('p1');
        };

        try {
          s.currentTime = 0;
          s.play();
        } catch(e) {
          // If autoplay is blocked, still proceed when it "ends" isn't possible;
          // but in normal use a typed input counts as a gesture, so play should work.
        }
      }
    }
  })();

  /* ========= Puzzle 1: jinglebells only while mouse moves; complete at 10s ========= */
  let p1Inited = false;
  let p1RAF = null;
  let lastMouseMove = 0;
  let startedOnce = false;
  let displayProgress = 0; // 0..1 smoothed
  let p1Done = false;

  const P1_TARGET_SECONDS = 10; // temporary: only need first 10 seconds

  function initPuzzle1(){
    const audio = document.getElementById('jingle');
    const nextBtn = document.getElementById('p1Next');
    const status = document.getElementById('p1Status');
    const fill = document.getElementById('p1Fill');
    const meterBar = document.getElementById('p1MeterBar');

    p1Done = false;
    nextBtn.disabled = true;
    status.textContent = 'Move your mouse to begin…';
    displayProgress = 0;
    fill.style.transform = 'scaleX(0)';
    meterBar.style.width = '0%';

    // Always reset track on entry
    try { audio.pause(); audio.currentTime = 0; } catch(e) {}
    audio.onended = null; // no longer used for completion

    if (!p1Inited){
      p1Inited = true;

      document.addEventListener('mousemove', () => {
        lastMouseMove = performance.now();
        if (!startedOnce){
          startedOnce = true;
          status.textContent = 'Keep moving…';
        }
      }, { passive: true });

      nextBtn.addEventListener('click', () => show('p2'));
    }

    // Cancel old loop
    if (p1RAF) cancelAnimationFrame(p1RAF);

    const MOVE_WINDOW_MS = 220; // how recently mouse must have moved to count as "moving"

    function tick(){
      const now = performance.now();
      const moving = (now - lastMouseMove) <= MOVE_WINDOW_MS;

      if (!p1Done){
        if (moving){
          try {
            if (audio.paused) audio.play();
          } catch(e) {}
        } else {
          if (!audio.paused || audio.currentTime !== 0){
            try { audio.pause(); audio.currentTime = 0; } catch(e) {}
          }
        }
      }

      // Completion check: reach 10 seconds of playback
      if (!p1Done && audio.currentTime >= P1_TARGET_SECONDS){
        p1Done = true;
        try { audio.pause(); } catch(e) {}
        status.textContent = '10 seconds reached. Puzzle complete.';
        nextBtn.disabled = false;
      }

      // progress target: scaled to 10 seconds (not full track)
      let target = 0;
      target = Math.max(0, Math.min(1, audio.currentTime / P1_TARGET_SECONDS));

      // If not moving and we reset, make it "drop back" smoothly.
      if (!moving && !p1Done){
        displayProgress = Math.max(0, displayProgress - 0.012);
        if (startedOnce) status.textContent = 'Stopped — reset to start. Move again…';
      } else {
        displayProgress = displayProgress + (target - displayProgress) * 0.25;
      }

      fill.style.transform = `scaleX(${displayProgress})`;
      meterBar.style.width = `${Math.round(displayProgress * 100)}%`;

      p1RAF = requestAnimationFrame(tick);
    }

    p1RAF = requestAnimationFrame(tick);
  }

  /* ========= Puzzle 2: Fibonacci Time (HH & MM must be Fibonacci under 60) ========= */
  let p2Timer = null;
  const fibUnder60 = new Set([0,1,2,3,5,8,13,21,34,55]);

  function initFibTime(){
    const clock = document.getElementById('p2Clock');
    const checkBtn = document.getElementById('p2Check');
    const nextBtn = document.getElementById('p2Next');

    nextBtn.style.display = 'none';

    function update(){
      const now = new Date();
      const hh = String(now.getHours()).padStart(2,'0');
      const mm = String(now.getMinutes()).padStart(2,'0');
      clock.textContent = `${hh}:${mm}`;
    }
    update();
    if (p2Timer) clearInterval(p2Timer);
    p2Timer = setInterval(update, 1000);

    checkBtn.onclick = () => {
      const [hhS, mmS] = clock.textContent.split(':');
      const hh = parseInt(hhS, 10);
      const mm = parseInt(mmS, 10);
      const msgs = [];
      if (!fibUnder60.has(hh)) msgs.push(`${hhS} isn't fibonacci`);
      if (!fibUnder60.has(mm)) msgs.push(`${mmS} isn't fibonacci`);
      if (msgs.length) {
        alert(msgs.join('\n'));
      } else {
        nextBtn.style.display = 'inline-block';
      }
    };

    nextBtn.onclick = () => show('p3');
  }

  /* ========= Puzzle 3: Monty Hall (rigged: car always behind first pick) ========= */
  let montyState = null;

  function initMonty(){
    const doorsEl = document.getElementById('doors');
    const msgEl = document.getElementById('monty-msg');
    const stayBtn = document.getElementById('stayBtn');
    const switchBtn = document.getElementById('switchBtn');
    const nextBtn = document.getElementById('p3Next');

    doorsEl.innerHTML = '';
    msgEl.textContent = 'Choose a door.';
    stayBtn.style.display = 'none';
    switchBtn.style.display = 'none';
    nextBtn.style.display = 'none';

    montyState = {
      picked: null,
      carDoor: null,
      revealed: null,
      finished: false
    };

    for (let i=0;i<3;i++){
      const d = document.createElement('div');
      d.className = 'door';
      d.dataset.idx = String(i);
      d.innerHTML = `<div class="tag">Door ${i+1}</div><div>?</div>`;
      d.onclick = () => onPick(i);
      doorsEl.appendChild(d);
    }

    function setDoorVisual(i, opts){
      const el = doorsEl.children[i];
      el.classList.toggle('selected', !!opts.selected);
      el.classList.toggle('revealed', !!opts.revealed);
      if (opts.text !== undefined) el.lastElementChild.textContent = opts.text;
    }

    function onPick(i){
      if (montyState.finished) return;
      if (montyState.picked !== null) return;

      montyState.picked = i;
      montyState.carDoor = i; // rigged

      for (let k=0;k<3;k++){
        setDoorVisual(k, { selected: k===i, revealed:false, text:'?' });
      }

      const candidates = [0,1,2].filter(x => x !== montyState.picked && x !== montyState.carDoor);
      const reveal = candidates[Math.floor(Math.random()*candidates.length)];
      montyState.revealed = reveal;

      setDoorVisual(reveal, { selected:false, revealed:true, text:'Goat' });
      msgEl.textContent = 'Monty reveals a goat. Do you want to switch?';

      stayBtn.style.display = 'inline-block';
      switchBtn.style.display = 'inline-block';

      stayBtn.onclick = () => finish(false);
      switchBtn.onclick = () => finish(true);
    }

    function finish(switched){
      if (montyState.finished) return;
      montyState.finished = true;

      let finalPick = montyState.picked;
      if (switched){
        finalPick = [0,1,2].find(x => x !== montyState.picked && x !== montyState.revealed);
      }

      for (let k=0;k<3;k++){
        if (k === montyState.revealed) continue;
        const isCar = (k === montyState.carDoor);
        setDoorVisual(k, { selected: k===finalPick, revealed:true, text: isCar ? 'Car' : 'Goat' });
      }

      msgEl.textContent = switched ? 'You switched… and lost.' : 'You stayed… and won.';

      stayBtn.style.display = 'none';
      switchBtn.style.display = 'none';
      nextBtn.style.display = 'inline-block';
      nextBtn.onclick = () => show('p4');
    }
  }

  /* ========= Puzzle 4: Crossword ========= */
  const cwSolution = [
    ['R','X','J','X','I'],
    ['E','J','E','C','T'],
    ['C','A','M','A','N'],
    ['U','M','M','N','O'],
    ['R','E','S','E','T'],
  ];
  const cwNumbers = {
    '0,0': 1,
    '0,2': 2,
    '0,4': 3,
    '1,0': 4,
    '1,1': 5,
    '1,3': 6,
    '2,0': 7,
    '3,0': 8,
    '4,0': 9
  };

  function initCrossword(){
    const table = document.getElementById('cwTable');
    const nextBtn = document.getElementById('p4Next');
    nextBtn.style.display = 'none';

    table.innerHTML = '';
    for (let r=0;r<5;r++){
      const tr = document.createElement('tr');
      for (let c=0;c<5;c++){
        const td = document.createElement('td');

        const key = `${r},${c}`;
        if (cwNumbers[key]){
          const n = document.createElement('div');
          n.className = 'cw-num';
          n.textContent = cwNumbers[key];
          td.appendChild(n);
        }

        const inp = document.createElement('input');
        inp.className = 'cw-inp';
        inp.maxLength = 1;
        inp.dataset.r = r;
        inp.dataset.c = c;
        inp.addEventListener('input', () => {
          inp.value = (inp.value || '').slice(0,1).toUpperCase();
          check();
        });
        inp.addEventListener('keydown', (e) => {
          const rr = parseInt(inp.dataset.r,10);
          const cc = parseInt(inp.dataset.c,10);
          const go = (nr,nc) => {
            const sel = table.querySelector(`input[data-r="${nr}"][data-c="${nc}"]`);
            if (sel) sel.focus();
          };
          if (e.key === 'ArrowLeft') { e.preventDefault(); go(rr, Math.max(0,cc-1)); }
          if (e.key === 'ArrowRight'){ e.preventDefault(); go(rr, Math.min(4,cc+1)); }
          if (e.key === 'ArrowUp')   { e.preventDefault(); go(Math.max(0,rr-1), cc); }
          if (e.key === 'ArrowDown') { e.preventDefault(); go(Math.min(4,rr+1), cc); }
        });

        td.appendChild(inp);
        tr.appendChild(td);
      }
      table.appendChild(tr);
    }

    function check(){
      let ok = true;
      table.querySelectorAll('input.cw-inp').forEach(inp => {
        const r = parseInt(inp.dataset.r,10);
        const c = parseInt(inp.dataset.c,10);
        const v = (inp.value || '').toUpperCase();
        if (v !== cwSolution[r][c]) ok = false;
      });
      if (ok) nextBtn.style.display = 'inline-block';
    }

    nextBtn.onclick = () => show('p5');
  }

  /* ========= Puzzle 5: Prime Fibonacci Time (fixed list) ========= */
  let p5Timer = null;
  const primeFibUnder60 = new Set([2,3,5,13]);

  function initPrimeFibTime(){
    const clock = document.getElementById('p5Clock');
    const checkBtn = document.getElementById('p5Check');
    const nextBtn = document.getElementById('p5Next');

    nextBtn.style.display = 'none';

    function update(){
      const now = new Date();
      const hh = String(now.getHours()).padStart(2,'0');
      const mm = String(now.getMinutes()).padStart(2,'0');
      clock.textContent = `${hh}:${mm}`;
    }
    update();
    if (p5Timer) clearInterval(p5Timer);
    p5Timer = setInterval(update, 1000);

    checkBtn.onclick = () => {
      const [hhS, mmS] = clock.textContent.split(':');
      const hh = parseInt(hhS, 10);
      const mm = parseInt(mmS, 10);
      const msgs = [];
      if (!primeFibUnder60.has(hh)) msgs.push(`${hhS} isn't prime fibonacci`);
      if (!primeFibUnder60.has(mm)) msgs.push(`${mmS} isn't prime fibonacci`);
      if (msgs.length) {
        alert(msgs.join('\n'));
      } else {
        nextBtn.style.display = 'inline-block';
      }
    };

    nextBtn.onclick = () => show('pw2');
  }

  /* ========= Password 2: FUECOCO ========= */
  (function initPw2(){
    const ids = ['pw2_1','pw2_2','pw2_3','pw2_4','pw2_5','pw2_6','pw2_7'];
    const inputs = ids.map(id => document.getElementById(id));

    inputs.forEach((inp, i) => {
      inp.addEventListener('input', () => {
        inp.value = (inp.value || '').slice(0,1).toUpperCase();
        if (inp.value && i < inputs.length - 1) inputs[i+1].focus();
        check();
      });
      inp.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && !inp.value && i > 0) inputs[i-1].focus();
      });
    });

    function check(){
      const code = inputs.map(x => (x.value || '').toUpperCase()).join('');
      if (code === 'FUECOCO'){
        show('final');
      }
    }
  })();
</script>
</body>
</html>
